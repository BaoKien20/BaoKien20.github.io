(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[690],{3160:function(n,e,a){Promise.resolve().then(a.t.bind(a,1749,23)),Promise.resolve().then(a.t.bind(a,3649,23)),Promise.resolve().then(a.bind(a,8009)),Promise.resolve().then(a.bind(a,5688)),Promise.resolve().then(a.bind(a,2748)),Promise.resolve().then(a.t.bind(a,3385,23)),Promise.resolve().then(a.bind(a,9392)),Promise.resolve().then(a.bind(a,1715)),Promise.resolve().then(a.bind(a,461)),Promise.resolve().then(a.bind(a,9315)),Promise.resolve().then(a.bind(a,1021)),Promise.resolve().then(a.bind(a,6131)),Promise.resolve().then(a.bind(a,9194))},7720:function(n,e,a){"use strict";a.d(e,{Z:function(){return l}});var t=a(7437),i=a(5163),r=a(2821),o=a(3161),s=a(1065);function l(n){let{onKeyDown:e,className:a,placeholder:l,onClick:u,onIconClick:c,onChange:h,icon:d,ariaLabel:m}=n;return(0,t.jsxs)(i.g,{className:(0,s.cn)(" w-full  border relative border-des flex gap-2 h-9 bg-white/5  text-sm text-title","focus:outline-none data-[focus]:outline-2 data-[focus]:-outline-offset-2 data-[focus]:outline-white/25",a),htmlFor:"search",as:"label","aria-label":m,children:[(0,t.jsx)(r.I,{onKeyDown:e,placeholder:l,onClick:u,onChange:h,id:"search",className:"w-full pl-2   pr-9  py-1 outline-none bg-transparent"}),null!=d?d:(0,t.jsx)(o.W1,{onClick:c,className:"cursor-pointer absolute right-2 top-1/2 transform -translate-y-1/2"})]})}},9392:function(n,e,a){"use strict";a.r(e),a.d(e,{default:function(){return m}});var t=a(7437),i=a(1065);a(2265);var r=a(3161),o=a(9452),s=a(9638),l=a(991),u=a(8711),c=a(1021),h=n=>{let{close:e}=n;return(0,t.jsx)(l.td,{className:"flex font-semibold   border-mainColor border-t-2 ",children:u.rK.map((n,a)=>["category","year","country"].includes(n.id)?(0,t.jsx)(l.OK,{className:"w-full transition-colors !outline-none duration-500 rounded-b ease-in data-[selected]:text-black py-3 data-[selected]:bg-mainColor hover:text-mainColor text-title",children:n.name},a):(0,t.jsx)(c.Link,{className:"w-full transition-colors text-center !outline-none duration-500 rounded-b ease-in data-[selected]:text-dark1 py-3 data-[selected]:bg-mainColor hover:text-mainColor text-title",href:"/".concat(n.slug),onClick:e,children:n.name},a))})};let d=(0,a(4232).default)(()=>a.e(356).then(a.bind(a,7356)),{loadableGenerated:{webpack:()=>[7356]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"w-full  flex items-center h-[50px]",children:(0,t.jsx)(r.Ho,{className:"m-auto w-fit ",fill:"#cac9c9"})})});var m=()=>(0,t.jsx)("div",{className:"flex gap-8 ",children:(0,t.jsx)(o.J2,{children:n=>{let{open:e,close:a}=n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.O7,{className:(0,i.cn)(e?"border-mainColor bg-mainColor":"border-des bg-black","h-[36px] w-[42px] outline-none rounded flex items-center  py-[5px]  border-[1px] cursor-pointer  hover:opacity-80"),"aria-label":"category-button",children:(0,t.jsx)(r.Uq,{className:e?"active":""})}),(0,t.jsx)(s.u,{enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",appear:!0,children:(0,t.jsx)(o.Hi,{anchor:"bottom",className:" mt-6 !max-w-screen-laptop px-6 !left-1/2 z-[100] !-translate-x-1/2 transform   w-full  text-sm/6 ",children:(0,t.jsxs)(l.v0,{className:"bg-mainBackground/95 border border-t-0 border-des rounded overflow-hidden",children:[(0,t.jsx)(h,{close:a}),(0,t.jsx)(d,{close:a})]})})})]})}})})},1715:function(n,e,a){"use strict";a.r(e);var t=a(2265);e.default=()=>{let n=0;return(0,t.useEffect)(()=>{let e=()=>{var e,a;let t=null===(a=document)||void 0===a?void 0:null===(e=a.getElementById("header-app"))||void 0===e?void 0:e.classList,i=null==t?void 0:t.contains("auto-scroll");n>=window.scrollY||window.scrollY<72?(i||null==t||t.remove("opacity-0"),window.scrollY<72&&(null==t||t.remove("auto-scroll"),null==t||t.remove("opacity-0"))):(null==t||t.add("opacity-0"),null==t||t.remove("auto-scroll")),n=window.scrollY};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),null}},461:function(n,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var t=a(7437);a(2265);var i=a(3161),r=a(7720);function o(){return(0,t.jsx)("div",{className:"relative w-full h-fit ",children:(0,t.jsx)(r.Z,{ariaLabel:"Search",className:"w-full ml-auto border rounded focus:outline-none  border-des  bg-black h-9  text-sm text-title",icon:(0,t.jsx)(i.W1,{fill:"currentColor",className:"text-white/60 group-hover:text-white cursor-pointer absolute right-2 top-1/2 transform -translate-y-1/2"})})})}var s=a(4232),l=a(7907);let u=(0,s.default)(()=>Promise.all([a.e(540),a.e(170)]).then(a.bind(a,3170)),{loadableGenerated:{webpack:()=>[3170]},ssr:!1,loading:()=>(0,t.jsx)(o,{})}),c=(0,s.default)(()=>a.e(235).then(a.bind(a,3576)),{loadableGenerated:{webpack:()=>[3576]},ssr:!1,loading:()=>(0,t.jsx)(o,{})});var h=()=>"/tim-kiem"===(0,l.usePathname)()?(0,t.jsx)(c,{}):(0,t.jsx)(u,{})},9315:function(n,e,a){"use strict";a.r(e);var t=a(7437),i=a(1021);a(2265);var r=a(3161),o=a(7415),s=a(1439),l=a(3107);e.default=()=>{let n=(0,s.t)(n=>n.user);console.log("user",n);let e=async()=>{s.t.setState({user:null}),console.log("logout res",await (0,l.Z)({url:"/api",method:"delete",withCredentials:!0}))};return n?(0,t.jsxs)(o.v2,{children:[(0,t.jsx)(o.j2,{className:"w-[42px] h-9 rounded text-title flex items-center  bg-black border-[1px] cursor-pointer border-des hover:opacity-80",children:(0,t.jsx)(r.lM,{className:"mx-auto  "})}),(0,t.jsxs)(o.sd,{anchor:"bottom end",className:"w-52 z-10 mt-4 origin-top-right rounded-xl border border-white/5 bg-mainBackground/90 p-1 text-sm/6 text-title transition duration-100 ease-out [--anchor-gap:var(--spacing-1)] focus:outline-none data-[closed]:scale-95 data-[closed]:opacity-0",children:[(0,t.jsx)(o.sN,{children:(0,t.jsxs)(i.Link,{href:"/tai-khoan",className:"group  flex w-full items-center gap-2 rounded-lg py-1.5 px-3 data-[focus]:text-mainColor",children:[(0,t.jsx)(r.vV,{className:"size-5 "}),(0,t.jsx)("span",{children:"T\xe0i khoản"}),(0,t.jsx)("kbd",{className:"ml-auto hidden font-sans text-xs text-white/50 group-data-[focus]:inline",children:"⌘"})]})}),(0,t.jsx)(o.sN,{children:(0,t.jsxs)("button",{onClick:e,className:"group flex w-full items-center gap-2 rounded-lg py-1.5 px-3 data-[focus]:text-mainColor",children:[(0,t.jsx)(r.R0,{fill:"currentColor",className:"     "}),(0,t.jsx)("span",{className:"",children:"Đăng xuất"}),(0,t.jsx)("kbd",{className:"ml-auto hidden font-sans text-xs text-white/50 group-data-[focus]:inline",children:"⌘"})]})})]})]}):(0,t.jsx)(i.Link,{href:"/dang-nhap","aria-label":"login",className:"w-[42px] h-9 rounded text-title flex items-center  bg-black border-[1px] cursor-pointer border-des hover:opacity-80",children:(0,t.jsx)(r.wX,{className:"size-[22px] mx-auto"})})}},8711:function(n,e,a){"use strict";a.d(e,{Gd:function(){return u},Ld:function(){return s},QE:function(){return h},Rj:function(){return c},V5:function(){return l},XD:function(){return p},Z6:function(){return d},_m:function(){return i},gQ:function(){return m},hW:function(){return f},i7:function(){return r},jh:function(){return g},rK:function(){return o},sk:function(){return t}});let t=24,i=new Map([["trailer","Sắp chiếu"],["ongoing","Đang tiến h\xe0nh"],["completed","Ho\xe0n th\xe0nh"]]),r=["trailer","ongoing","completed"],o=[{id:"category",name:"Thể loại",slug:"the-loai"},{id:"year",name:"Năm",slug:"nam"},{id:"country",name:"Quốc gia",slug:"quoc-gia"},{id:"series",name:"Phim bộ",slug:"phim-bo"},{id:"movie",name:"Phim lẻ",slug:"phim-le"},{id:"filter",name:"Lọc phim",slug:"loc-phim"}],s=["newest","view","rate","comment"],l=["series","single","tvshows","hoathinh","chieurap","vietsub","thuyetminh"],u=new Map([["series","Phim Bộ"],["tvshows","TV Shows"],["hoathinh","Hoạt H\xecnh"],["single","Phim Lẻ"],["chieurap","Phim chiếu rạp"],["vietsub","Phim Vietsub"],["thuyetminh","Phim Thuyết Minh"]]),c=[{name:"H\xe0nh Động",slug:"hanh-dong"},{name:"T\xecnh Cảm",slug:"tinh-cam"},{name:"H\xe0i Hước",slug:"hai-huoc"},{name:"Cổ Trang",slug:"co-trang"},{name:"T\xe2m L\xfd",slug:"tam-ly"},{name:"H\xecnh Sự",slug:"hinh-su"},{name:"Chiến Tranh",slug:"chien-tranh"},{name:"Thể Thao",slug:"the-thao"},{name:"V\xf5 Thuật",slug:"vo-thuat"},{name:"Viễn Tưởng",slug:"vien-tuong"},{name:"Phi\xeau Lưu",slug:"phieu-luu"},{name:"Khoa Học",slug:"khoa-hoc"},{name:"Kinh Dị",slug:"kinh-di"},{name:"\xc2m Nhạc",slug:"am-nhac"},{name:"Thần Thoại",slug:"than-thoai"},{name:"T\xe0i Liệu",slug:"tai-lieu"},{name:"Gia Đ\xecnh",slug:"gia-dinh"},{name:"Ch\xednh kịch",slug:"chinh-kich"},{name:"B\xed ẩn",slug:"bi-an"},{name:"Học Đường",slug:"hoc-duong"},{name:"Kinh Điển",slug:"kinh-dien"}],h=["hanh-dong","tinh-cam","hai-huoc","co-trang","tam-ly","hinh-su","chien-tranh","the-thao","vo-thuat","vien-tuong","phieu-luu","khoa-hoc","kinh-di","am-nhac","than-thoai","tai-lieu","gia-dinh","chinh-kich","bi-an","hoc-duong","kinh-dien"],d=new Map([["hanh-dong","H\xe0nh Động"],["tinh-cam","T\xecnh Cảm"],["hai-huoc","H\xe0i Hước"],["co-trang","Cổ Trang"],["tam-ly","T\xe2m L\xfd"],["hinh-su","H\xecnh Sự"],["chien-tranh","Chiến Tranh"],["the-thao","Thể Thao"],["vo-thuat","V\xf5 Thuật"],["vien-tuong","Viễn Tưởng"],["phieu-luu","Phi\xeau Lưu"],["khoa-hoc","Khoa Học"],["kinh-di","Kinh Dị"],["am-nhac","\xc2m Nhạc"],["than-thoai","Thần Thoại"],["tai-lieu","T\xe0i Liệu"],["gia-dinh","Gia Đ\xecnh"],["chinh-kich","Ch\xednh kịch"],["bi-an","B\xed ẩn"],["hoc-duong","Học Đường"],["kinh-dien","Kinh Điển"]]),m=["19XX","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024"],g=["trung-quoc","han-quoc","nhat-ban","thai-lan","au-my","dai-loan","hong-kong","an-do","anh","phap","canada","quoc-gia-khac","duc","tay-ban-nha","tho-nhi-ky","ha-lan","indonesia","nga","mexico","ba-lan","uc","thuy-dien","malaysia","brazil","philippines","bo-dao-nha","y","dan-mach","uae","na-uy","thuy-si","chau-phi","nam-phi","ukraina","arap-xe-ut"],p=new Map([["trung-quoc","Trung Quốc"],["han-quoc","H\xe0n Quốc"],["nhat-ban","Nhật Bản"],["thai-lan","Th\xe1i Lan"],["au-my","\xc2u Mỹ"],["dai-loan","Đ\xe0i Loan"],["hong-kong","Hồng K\xf4ng"],["an-do","Ấn Độ"],["anh","Anh"],["phap","Ph\xe1p"],["canada","Canada"],["quoc-gia-khac","Quốc Gia Kh\xe1c"],["duc","Đức"],["tay-ban-nha","T\xe2y Ban Nha"],["tho-nhi-ky","Thổ Nhĩ Kỳ"],["ha-lan","H\xe0 Lan"],["indonesia","Indonesia"],["nga","Nga"],["mexico","Mexico"],["ba-lan","Ba lan"],["uc","\xdac"],["thuy-dien","Thụy Điển"],["malaysia","Malaysia"],["brazil","Brazil"],["philippines","Philippines"],["bo-dao-nha","Bồ Đ\xe0o Nha"],["y","\xdd"],["dan-mach","Đan Mạch"],["uae","UAE"],["na-uy","Na Uy"],["thuy-si","Thụy Sĩ"],["chau-phi","Ch\xe2u Phi"],["nam-phi","Nam Phi"],["ukraina","Ukraina"],["arap-xe-ut","Ả Rập X\xea \xdat"]]),f=[{name:"Trung Quốc",slug:"trung-quoc"},{name:"H\xe0n Quốc",slug:"han-quoc"},{name:"Nhật Bản",slug:"nhat-ban"},{name:"Th\xe1i Lan",slug:"thai-lan"},{name:"\xc2u Mỹ",slug:"au-my"},{name:"Đ\xe0i Loan",slug:"dai-loan"},{name:"Hồng K\xf4ng",slug:"hong-kong"},{name:"Ấn Độ",slug:"an-do"},{name:"Anh",slug:"anh"},{name:"Ph\xe1p",slug:"phap"},{name:"Canada",slug:"canada"},{name:"Quốc Gia Kh\xe1c",slug:"quoc-gia-khac"},{name:"Đức",slug:"duc"},{name:"T\xe2y Ban Nha",slug:"tay-ban-nha"},{name:"Thổ Nhĩ Kỳ",slug:"tho-nhi-ky"},{name:"H\xe0 Lan",slug:"ha-lan"},{name:"Indonesia",slug:"indonesia"},{name:"Nga",slug:"nga"},{name:"Mexico",slug:"mexico"},{name:"Ba lan",slug:"ba-lan"},{name:"\xdac",slug:"uc"},{name:"Thụy Điển",slug:"thuy-dien"},{name:"Malaysia",slug:"malaysia"},{name:"Brazil",slug:"brazil"},{name:"Philippines",slug:"philippines"},{name:"Bồ Đ\xe0o Nha",slug:"bo-dao-nha"},{name:"\xdd",slug:"y"},{name:"Đan Mạch",slug:"dan-mach"},{name:"UAE",slug:"uae"},{name:"Na Uy",slug:"na-uy"},{name:"Thụy Sĩ",slug:"thuy-si"},{name:"Ch\xe2u Phi",slug:"chau-phi"},{name:"Nam Phi",slug:"nam-phi"},{name:"Ukraina",slug:"ukraina"},{name:"Ả Rập X\xea \xdat",slug:"arap-xe-ut"}]},6131:function(n,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var t=a(4333),i=a(1439),r=a(7963);function o(n){if(!n)return!0;try{let{exp:e}=(0,r.o)(n);if(Date.now()>=1e3*e)return!0;return!1}catch(n){return!0}}var s=a(3107),l=a(2265),u=a(8009),c=n=>{let{children:e}=n,a=(0,i.t)(n=>n.user),r=(0,i.t)(n=>n.updateUserToken),c=(0,i.t)(n=>n.setUser),h=async()=>{var n,e,i;let l=null===(i=await (0,s.Z)({url:"/api",method:"get",withCredentials:!0}))||void 0===i?void 0:null===(e=i.data)||void 0===e?void 0:null===(n=e.token)||void 0===n?void 0:n.value;if(console.log("RefToken",l),l&&o(l)||!l)c(null),await (0,s.Z)({url:"/api",method:"delete",withCredentials:!0}),u.default.error("Phi\xean đăng nhập hết hạn, vui l\xf2ng đăng nhập lại");else if(!(null==a?void 0:a.accessToken)||o(null==a?void 0:a.accessToken)){let n=await (0,t.g$)();console.log("newToken",n),r(null==n?void 0:n.accessToken)}};return(0,l.useEffect)(()=>{a&&h()},[r,c,a]),e}},9194:function(n,e,a){"use strict";a.r(e),a.d(e,{default:function(){return l}});var t=a(7437),i=a(23),r=a(7082),o=a(2265),s=a(3617);function l(n){let{children:e}=n,[a]=(0,o.useState)(()=>new i.S);return(0,t.jsxs)(r.aH,{client:a,children:[e,(0,t.jsx)(s.t,{initialIsOpen:!1})]})}},3916:function(n,e,a){"use strict";a.d(e,{Z:function(){return i},v:function(){return t}});let t="https://kmovie-api.vercel.app",i="https://ophim1.com/phim/"},4333:function(n,e,a){"use strict";a.d(e,{m3:function(){return o},dA:function(){return h},Mo:function(){return s},k9:function(){return d},Cp:function(){return u},g$:function(){return c},c0:function(){return l}});var t=a(3916),i=a(3107);class r{}async function o(n,e){return await r.Login(n,e)}async function s(n,e){return await r.SignUp(n,e)}async function l(n,e,a){return await r.ResetPassword(n,e,a)}async function u(n,e,a){return await r.changePassword(n,e,a)}async function c(){return await r.RefreshToken()}async function h(n){return await r.SendOTP(n)}async function d(n,e){return await r.VerifyOTP(n,e)}r.Login=async(n,e)=>{let a="".concat(t.v,"/users/login"),r=new AbortController;try{return await (0,i.Z)({url:a,method:"post",data:{email:n,password:e},withCredentials:!0,signal:r.signal})}catch(n){return n.response}},r.SignUp=async(n,e)=>{let a="".concat(t.v,"/users/create"),r=new AbortController;try{return await (0,i.Z)({url:a,method:"post",data:{email:n,password:e},withCredentials:!0,signal:r.signal})}catch(n){return n.response}},r.ResetPassword=async(n,e,a)=>{let r="".concat(t.v,"/users/resetPassword"),o=new AbortController;try{return await (0,i.Z)({url:r,method:"post",data:{email:n,password:e,token:a},withCredentials:!0,signal:o.signal})}catch(n){return n.response}},r.changePassword=async(n,e,a)=>{let r="".concat(t.v,"/users/changePassword"),o={userId:n._id,email:n.email,oldPassword:e,newPassword:a},s=new AbortController;try{return await (0,i.Z)({url:r,method:"put",headers:{Authorization:"Bearer ".concat(n.accessToken)},data:o,withCredentials:!0,signal:s.signal})}catch(n){return n.response}},r.RefreshToken=async()=>{let n="".concat(t.v,"/users/refreshToken"),e=new AbortController;try{return(await (0,i.Z)({url:n,method:"post",withCredentials:!0,signal:e.signal})).data}catch(n){console.log(n)}},r.SendOTP=async n=>{let e="".concat(t.v,"/otp/sendOTP"),a=new AbortController;try{return await (0,i.Z)({url:e,method:"get",params:{email:n},withCredentials:!0,signal:a.signal})}catch(n){return n.response}},r.VerifyOTP=async(n,e)=>{let a="".concat(t.v,"/otp/verifyOTP"),r=new AbortController;try{return await (0,i.Z)({url:a,method:"get",params:{email:n,otp:e},withCredentials:!0,signal:r.signal})}catch(n){return n.response}}},1439:function(n,e,a){"use strict";a.d(e,{t:function(){return r}});var t=a(5249),i=a(7966);let r=(0,a(2020).Ue)()((0,t.tJ)((0,i.n)(n=>({user:null,setUser:e=>n(()=>({user:e})),updateUserToken:e=>n(n=>(null===n.user||(n.user.accessToken=e),n))})),{name:"auth",partialize:n=>({user:n.user})}))},3385:function(){},5688:function(n,e,a){"use strict";a.r(e),e.default={src:"/_next/static/media/Icon_light.bc49ad58.png",height:303,width:310,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAV1BMVEX+9gD+zk7+zU/+zU7+zk7+zU/+zU7+zU/+zU7+zU/+zk7+zU/+zU7+zU/+zU/+zU7+zU7+zU/+zU7+zU/+zU7+zU/+zU7+zU7+zU/+zU/+zU/+zU7+zU6FFo88AAAAHXRSTlMAAAAAAQEBAgIDBAQECQ44T1JaX2Rmam6Dhp/B8DUeffUAAABBSURBVHjaDckHCgAxDANBS/aVXO81/39nJBAMrFEL3ci+wSQMfi3vyiQc+WEH4f6/kZUlbvO5KyEAR+0GRLTmXgBKgwIEfAsGfQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},2748:function(n,e,a){"use strict";a.r(e),e.default={src:"/_next/static/media/logo_sm_light.1daeb5a0.png",height:118,width:394,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAAOUlEQVR4nGP8dzEyhIGB4QEDAwMrEH8H4v9AzAHEAkDmdZCCdCCDhYGB8QdQkA+IfwPxNyCWB+LTAApSDrzIYo4RAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2}}},function(n){n.O(0,[576,129,9,485,68,107,3,618,827,859,122,971,69,744],function(){return n(n.s=3160)}),_N_E=n.O()}]);