(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[850],{3630:function(e,l,n){Promise.resolve().then(n.bind(n,847))},8398:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return h}});var t=n(7437),i=n(2265),a=n(3751),u=n(4906),r=n(3503),s=n(7907),o=n(6843),d=n(1021),c=n(1065),v=e=>{let{className:l}=e;return(0,t.jsx)("div",{className:(0,c.cn)(" bg-black block p-[5px] mx-[2px] my-[5px] relative w-full h-[250px] ",l),children:(0,t.jsx)("div",{className:"relative h-full first-line:w-full animate-pulse  bg-white/10"})})},p=()=>(0,t.jsx)("div",{className:" p-[10px] grid grid-cols-5  gap-x-[10px] rounded-[8px]  w-full bg-[#404040]",children:Array.from({length:25}).map((e,l)=>(0,t.jsx)(v,{className:" h-60 md:h-80"},l))}),h=e=>{var l,n,c;let{searchParams:v,initialData:h,titleId:f}=e,[x,g]=i.useState(!1),m=(0,d.useRouter)(),b=(0,s.usePathname)();return(0,i.useEffect)(()=>{g(!1)},[null==h?void 0:null===(l=h.pagination)||void 0===l?void 0:l.currentPage]),x?(0,t.jsx)(p,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{quality:50,enableBlur:!0,movies:h}),(0,t.jsx)(a.Z,{onPageClick:e=>{let l=(0,r.B2)(v,"page",(e.selected+1).toString());(0,o.F)(f),m.push("".concat(b,"?").concat(l),{scroll:!1})},totalPage:Math.ceil(null!==(c=null==h?void 0:null===(n=h.pagination)||void 0===n?void 0:n.totalPages)&&void 0!==c?c:0)})]})}},847:function(e,l,n){"use strict";n.r(l);var t=n(7437),i=n(3429),a=n(8398),u=n(8711),r=n(2746),s=n(1439),o=n(6540);n(2265),l.default=e=>{var l,n;let{searchParams:d}=e,c=(0,s.t)(e=>e.user),{data:v,isFetching:p}=(0,o.a)({queryKey:["viewed-movie",null==c?void 0:c._id],queryFn:async()=>{var e;return(0,r._4)((null==d?void 0:d.page)?parseInt(d.page):1,u.sk,null!==(e=null==c?void 0:c._id)&&void 0!==e?e:"")},refetchOnWindowFocus:!1,enabled:(null!==(n=null==c?void 0:null===(l=c._id)||void 0===l?void 0:l.length)&&void 0!==n?n:0)>0});return v?p?(0,t.jsx)(i.Z,{}):(0,t.jsx)(a.default,{titleId:"HistoryListTitle",initialData:v,searchParams:d}):(0,t.jsx)("div",{children:"Bạn chưa xem bộ phim n\xe0o"})}},1439:function(e,l,n){"use strict";n.d(l,{t:function(){return a}});var t=n(5249),i=n(7966);let a=(0,n(2020).Ue)()((0,t.tJ)((0,i.n)(e=>({user:null,setUser:l=>e(()=>({user:l})),updateUserToken:l=>e(e=>(null===e.user||(e.user.accessToken=l),e))})),{name:"auth",partialize:e=>({user:e.user})}))}},function(e){e.O(0,[576,129,9,485,68,107,178,3,618,540,122,477,971,69,744],function(){return e(e.s=3630)}),_N_E=e.O()}]);